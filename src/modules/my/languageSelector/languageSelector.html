<template>
    <div class="slds-form-element">
        <div class="slds-form-element__control">
            <div class="slds-combobox_container slds-size_small">
                <div
                    class={comboboxClass}
                    aria-expanded="false"
                    aria-haspopup="listbox"
                    role="combobox"
                >
                    <div
                        class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                        role="none"
                    >
                        <input
                            onfocus={onFocus}
                            type="text"
                            class="slds-input slds-combobox__input"
                            id="language-selector"
                            aria-controls="language-selector-listbox"
                            autocomplete="off"
                            role="textbox"
                            value={selected}
                            placeholder="Select Language"
                            readonly=""
                        />
                        <span
                            class="slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right"
                        >
                            <svg
                                class="slds-icon slds-icon slds-icon_x-small slds-icon-text-default"
                                aria-hidden="true"
                            >
                                <use
                                    xlink:href="/resources/slds/icons/utility-sprite/svg/symbols.svg#down"
                                ></use>
                            </svg>
                        </span>
                    </div>
                    <div
                        id="language-selector-listbox"
                        class="slds-dropdown slds-dropdown_length-5 slds-dropdown_fluid"
                        role="listbox"
                    >
                        <ul
                            class="slds-listbox slds-listbox_vertical"
                            role="presentation"
                        >
                            <template for:each={languages} for:item="lang">
                                <my-language-selector-option
                                    key={lang}
                                    language={lang}
                                    selected={selected}
                                    onselect={onSelectOption}
                                ></my-language-selector-option>
                            </template>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
